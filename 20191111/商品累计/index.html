<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<title></title>
	<style>
		body,
		ul,
		li {
			margin: 0;
			padding: 0;
			list-style: none;
		}
	</style>
	<link rel="stylesheet" type="text/css" href="price.css" />
</head>

<body onselectstart="return false;">
	<div class="wrap">
		<div class="box">
			<ul class="list">
				<li>
					<i></i>
					<em>0</em>
					<i></i>
					<span>
						单价：<strong>12.5元 </strong> 小计：<strong>0元</strong>
					</span>
				</li>
				<li>
					<i></i>
					<em>0</em>
					<i></i>
					<span>
						单价：<strong>10.5元 </strong> 小计：<strong>0元</strong>
					</span>
				</li>
				<li>
					<i></i>
					<em>0</em>
					<i></i>
					<span>
						单价：<strong>8.5元 </strong> 小计：<strong>0元</strong>
					</span>
				</li>
				<li>
					<i></i>
					<em>0</em>
					<i></i>
					<span>
						单价：<strong>8元 </strong> 小计：<strong>0元</strong>
					</span>
				</li>
				<li>
					<i></i>
					<em>0</em>
					<i></i>
					<span>
						单价：<strong>14.5元 </strong> 小计：<strong>0元</strong>
					</span>
				</li>
			</ul>
			<div class="info">
				<span>商品公合计：<em>0</em>件</span>
				<span>共花费了：<em>0</em>元</span>
				<br />
				<br />
				<span>其中最贵的商品单价是：<em>0</em>元</span>
			</div>
		</div>
	</div>
	<script>
		//创建一个Cart类
		class Cart {
			constructor() {
				this.ii = document.querySelectorAll('.list i');
				//console.log(this.ii);
				this.price = document.querySelectorAll('.list span');
				console.log(this.price);
				this.lists = document.querySelectorAll('.list li');
				console.log(this.lists);
				this.num = document.querySelectorAll('.list em');
				console.log(this.num);
				this.heji = document.querySelectorAll('.info span')
				this.add1 = [];
				this.haha = 0;
			}
			//事件绑定方法
			Binding() {
				//循环每个i绑定点击事件
				this.ii.forEach((item, i) => {


					item.onclick = () => {
						//判断当奇数时时点击上一个兄弟元素改变innnerHTML 

						if (i % 2 != 0) {
							var add = item.previousElementSibling.innerHTML;
							add++;
							item.previousElementSibling.innerHTML = add;
							//则偶数	

						} else {
							var add = item.nextElementSibling.innerHTML;
							if (add > 0) {
								add--;
								item.nextElementSibling.innerHTML = add;


							}



						}
						this.add1.push(add);
						console.log(this.add1);
					
							
						
					
						






						//获取单价,小计
						item.parentNode.children[3].children[1].innerHTML =
							parseFloat(item.parentNode.children[3].children[0].innerHTML) * add + '元';
						//点击时把add,item传给total方法
						this.Total(item, i);
					}

				})
			}
			//商品合计方法
			Total(add) {





				  this.heji[0].children[0].innerHTML = add;








				// item.parentNode.children[3].children[1].innerHTML=        
				// 		 parseFloat(item.parentNode.children[3].children[0].innerHTML)*add 
			}
			change() {

			}
		}

		let shop = new Cart();

		shop.Binding();
		//    shop.Total();







	</script>
</body>

</html>